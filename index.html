<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mis XV Darani</title>

    <!-- Meta tags para redes sociales -->
    <meta property="og:title" content="Mis XV Darani">
    <meta property="og:description" content="¡Te invito a celebrar conmigo este día tan especial!">
    <meta property="og:image" content="https://invitadigitales.github.io/Darani/f.png">
    <meta property="og:url" content="https://invitadigitales.github.io/Darani/">
    <meta property="og:type" content="website">

    <!-- CSS Libraries -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7" crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/css/splide.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flexslider@2.7.2/flexslider.css">
    <link rel="stylesheet" href="awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastify-js/1.12.0/toastify.min.css">


    <link rel="stylesheet" type="text/css" href="util.css">
    <link rel="stylesheet" type="text/css" href="filter.css">
    <link rel="stylesheet" type="text/css" href="styles.css">

</head>

<body class="bg_black">
    <div class="content overflow_hidden">



        
        <div class="pst_relative hpx_600 w_100 overflow_hidden">

            <img class="pst_absolute top_0 w_100 zdex_2" src="foto.jpg">
            <img class="pst_absolute top_0 w_100 zdex_2" src="grafica1.png">
            <div class="pst_absolute left_min_50 top_70 w_100  zdex_2  rotate_270">
                <img class="pst_absolute zdex_2 filter_invert" src="degradado1.png">
            </div>


            <div class="pst_absolute top_90 left_50 tra_y50 text-center color_golden zdex_4">
                <h1 class="font_paris fspx_100 line_height_30 m_0 mt_25">
                    <span>Darani</span>
                </h1>
            </div>

        </div>





        <div class="pst_relative w_100 overflow_hidden">


            <div class="pst_absolute toppx_10 rightpx_min_80 zdex_2  rotate_180">
                <img class="pst_relative animate_wind wpx_250" src="is1.png">
            </div>

            <div class="pst_absolute toppx_10 leftpx_min_80 zdex_2  rotate_80">
                <img class="pst_relative animate_wind wpx_250" src="is1.png">
            </div>



            

            <div class="pst_relative zdex_4">

                <h1 class="font_paris text_center color_golden fspx_50 m_0">Mis XV</h1>
                <center>
                    <img class="w_100 zdex_2" src="greca4.png">
                </center>

                <h1 class="mt_20 font_paris text_center color_red fspx_50 m_0">Dale Play</h1>

                <center id="play">
                    <img class="wpx_100 zdex_2" src="play.png">
                </center>


                <p class="m_0 font_charm text_center fspx_20 color_white"><br>"HAY MOMENTOS EN LA VIDA QUE SON ESPECIALES POR SI SOLOS PERO AL COMPARTIRLOS CON LAS PERSONAS QUE MÁS QUIERO LOS CONVIERTE EN MOMENTOS INOLVIDABLES"</p>

            </div>

        </div>


        <div class="pst_relative hpx_300 w_100 overflow_hidden mt_25">

           
  
            <div class="pst_absolute toppx_150 w_100  zdex_2  rotate_180">
                <img class="pst_absolute top_0 w_100 zdex_2" src="grafica2.png">
            </div>

            <div class="pst_absolute toppx_120 w_100  zdex_2">
                <img class="pst_absolute top_0 w_100 zdex_2" src="grafica2.png">
            </div>


            <div class="pst_absolute toppx_120 left_50 tra_y50 text-center color_black zdex_4">
    
                <div class="d_iflex w_100 jc_center ai_center mt_30 color_white">
            
                    <div class="text_center">
                        <h1 class="font_charm fspx_25 m_0">Familia</h1>
                        <h1 class="font_satisfy fspx_70 m_0 line_height_60 ">Palacios<br>Mendoza</h1>
               
                    </div>
    
                    <div class="text_center br_l2 br_white px_10 ml_10">
                        <div class="hpx_20"></div>
                        <h1 class="font_charm fspx_40 m_0">18</h1>
                        <h1 class="font_charm fspx_40 m_0">10</h1>
                        <h1 class="font_charm fspx_40 m_0">25</h1>
                        <div class="hpx_20"></div>
                    </div>
                </div>

            </div>

        </div>




        <h1 class="font_paris text_center color_red fspx_40 m_0 line_height_40 mb_40">Tienen el honor de invitarte a los XV de su querida hija</h1>

        <h1 class="font_paris text_center color_golden fspx_80 m_0 line_height_40 mb_80">Darani</h1>



     



        <div class="pst_relative zdex_10 mt_20 ">
         

        
            <div class="pst_relative bg_black py_70 px_20 text_center color_white">

                <img class="pst_absolute top_0 hpx_100 tra_x50 zdex_20 w_120" src="golden_raya.png">
               

                <img class="pst_absolute top_100 tra_x50 w_70 zdex_2" src="foto4.jpg">


               <h1 class="m_0 font_airthay fspx_70 line_height_40  color_white">Solo faltan</h1>
                <div class="text-center color_white">
                    <div id="countdown"></div>
                </div>

               <br><br><br><br>
       

            </div>

        </div><div class="hpx_170"></div>







        <div class="pst_relative w_100 overflow_hidden" id="acces">

            <center class="pst_relative toppx_min_60 hpx_160">
                <img class="w_50 zdex_2 rotate_95" src="it2.png">
            </center>

            <h1 class="font_paris text_center color_red fspx_40 m_0 mb_20">Ceremonia Religiosa </h1>
            <h1 class="font_charm text_center fspx_20 m_0 mb_20 color_white">1:00 p.m. </h1>
        </div>
        <div class="bg_black pst_relative hpx_400 w_100 overflow_hidden mb_20" id="acces">
            <img class="pst_absolute top_50 w_80 tra_x50 left_50 zdex_2 br_3 br_white" src="lugar1.jpg" id="acces">
            <div class="pst_absolute left_5 top_5 wpx_100  zdex_2  rotate_0">
                <img class="pst_absolute w_100 zdex_2" src="pat1.png">
            </div>

            <div class="pst_absolute right_min_2 top_min_2 wpx_100  zdex_2  rotate_0">
                <img class="pst_absolute w_100 zdex_2" src="pat2.png">
            </div>
       
            <div class="pst_absolute left_min_5 bottom_20 wpx_100  zdex_2  rotate_0">
                <img class="pst_absolute w_100 zdex_2" src="pat2.png">
            </div>
            <div class="pst_absolute right_5 bottom_5 wpx_100  zdex_2  rotate_180">
                <img class="pst_absolute w_100 zdex_2" src="pat1.png">
            </div>
        </div>
        <h1 class="font_charm text_center fspx_20 m_0 mb_20 color_white" id="acces">Nicolás Bravo esq Zaragoza 2a. Sección, 68259 San Pablo Etla, Oax.</h1>
        <a class="font_charm fspx_20 my_btn no_link color_black px_20 py_10 d_block 
        wpx_200 m0_a rounded_20 text_center font_bold" style="background-image: url('golden_btn.png');" href="https://maps.app.goo.gl/bA3xLdenV4nnYHkaA" id="acces">Como llegar</a>
     



        <div class="pst_relative w_100 overflow_hidden mt_50" id="acces">

            <center class="pst_relative toppx_min_60 hpx_160">
                <img class="w_50 zdex_2 rotate_95" src="it2.png">
            </center>

            <h1 class="font_paris text_center color_red fspx_40 m_0 mb_20">Recepción </h1>
            <h1 class="font_charm text_center fspx_20 m_0 mb_10 color_white">Jardín para eventos "San Pablo"</h1>
            <h1 class="font_charm text_center fspx_20 m_0 mb_20 color_white">3:00 p.m.</h1>
        </div>
        <div class="bg_black pst_relative hpx_400 w_100 overflow_hidden mb_20" id="acces">
            <img class="pst_absolute top_50 w_80 tra_x50 left_50 zdex_2 br_3 br_white" src="lugar2.jpg">
            <div class="pst_absolute left_5 top_5 wpx_100  zdex_2  rotate_0">
                <img class="pst_absolute w_100 zdex_2" src="pat1.png">
            </div>

            <div class="pst_absolute right_min_2 top_min_2 wpx_100  zdex_2  rotate_0">
                <img class="pst_absolute w_100 zdex_2" src="pat2.png">
            </div>
       
            <div class="pst_absolute left_min_5 bottom_20 wpx_100  zdex_2  rotate_0">
                <img class="pst_absolute w_100 zdex_2" src="pat2.png">
            </div>
            <div class="pst_absolute right_5 bottom_5 wpx_100  zdex_2  rotate_180">
                <img class="pst_absolute w_100 zdex_2" src="pat1.png">
            </div>
        </div>
        <h1 class="font_charm text_center fspx_20 m_0 mb_20 color_white" id="acces">Nicolás Bravo esq Zaragoza 2a. Sección, 68259 San Pablo Etla, Oax.</h1>
        <a class="font_charm fspx_20 my_btn no_link color_black px_20 py_10 d_block 
        wpx_200 m0_a rounded_20 text_center font_bold" style="background-image: url('golden_btn.png');" href="https://maps.app.goo.gl/bA3xLdenV4nnYHkaA" id="acces">Como llegar</a>
     



        <!--<div class="pst_relative w_100 overflow_hidden mt_50">
            <h1 class="font_paris text_center color_red fspx_40 m_0 mb_20">Afterparty </h1>
            <h1 class="font_charm text_center fspx_20 m_0 mb_10">505 CR 52 Granby CO 80446 </h1>
            <h1 class="font_charm text_center fspx_20 m_0 mb_20">12:30 AM en adelante</h1>
        </div>
        <a class="font_charm fspx_20 my_btn no_link color_black px_20 py_10 d_block 
        wpx_200 m0_a rounded_20 text_center font_bold" style="background-image: url('golden_btn.png');" href="#">Como llegar</a>-->
     



        <!--<div class="pst_relative zdex_4 mt_40">
            <center class="color_white">
                <h1 class="font_paris text_center color_red fspx_40 m_0 mb_20">Mis Papás</h1>
                <h1 class="font_paris fspx_25 m_0 mt_15">XXXX</h1>
                <h1 class="font_paris fspx_25 m_0">XXXX</h1>
            </center><br><br>
            <center class="color_white">
                <h1 class="font_paris text_center color_red fspx_40 m_0 mb_20">Mis Padrinos</h1>
                <h1 class="font_paris fspx_25 m_0 mt_15">XXXXXXX</h1>
                <h1 class="font_paris fspx_25 m_0">XXXXXXXX</h1>
            </center>

        </div>-->




        <div class="pst_relative hpx_600 w_100 overflow_hidden mt_50">


            <img class="pst_absolute top_0 w_100" src="foto2.jpg">
        </div>





        <div class="pst_relative hpx_600 w_100 overflow_hidden mt_25">

            <img class="pst_relative w_90  left_50 top_50 tra_x50 zdex_2" src="marco1.png">

           <div class="pst_absolute left_10 top_5 wpx_100  zdex_2  rotate_0">
                <img class="pst_absolute w_100 zdex_2" src="flores2.png">
            </div>

             <div class="pst_absolute right_10 bottom_20 wpx_120 zdex_2  rotate_0">
                <img class="pst_absolute w_100 zdex_2" src="flores3.png">
            </div>
           

            <div class="pst_absolute top_50 left_50 tra_y50 text-center color_black zdex_4">
    
                <div class="d_iflex w_100 jc_center ai_center">
      
                    <div class="text_right px_10 color_white">

        

                        <h1 class="mb_20 hpx_50 font_charm fspx_20 m_0 d_iflex ai_center">1:00pm</h1>


                        <h1 class="mb_20 hpx_50 font_charm fspx_20 m_0 d_iflex ai_center">
                            <span>calenda</span><img src="calenda.png" class="wpx_50 filter_invert">
                        </h1>

                        <h1 class="mb_20 hpx_50 font_charm fspx_20 m_0 d_iflex ai_center">3:30pm</h1>

                        <h1 class="mb_20 hpx_50 font_charm fspx_20 m_0 d_iflex ai_center">
                            <span>presentación & vals</span><img src="vals.png" class="wpx_50 filter_invert">
                        </h1>

                        <h1 class="mb_20 hpx_50 font_charm fspx_20 m_0 d_iflex ai_center">5:30pm</h1>

                        <!--<h1 class="mb_20 hpx_50 font_charm fspx_20 m_0 d_iflex ai_center">
                            <span>afterpary</span><img src="affter.png" class="wpx_50 filter_invert">
                        </h1>-->

                    </div>

                    <div class="text_left br_l2 br_white px_10 color_white">
                        <div class="hpx_50">
                            <div class="pst_relative wpx_15 hpx_15 bg_white rounded_40 left_min_16 top_0"></div>
                        </div>

                        <h1 class="mb_20 hpx_50 font_charm fspx_20 m_0 d_iflex ai_center">
                            <div class="pst_relative wpx_15 hpx_15 bg_white rounded_40 left_min_19 top_0"></div>
                            <span>misa</span><img src="iglesia.png" class="wpx_50 filter_invert">
                        </h1>


                        <h1 class="mb_20 hpx_50 font_charm fspx_20 m_0 d_iflex ai_center">
                            <div class="pst_relative wpx_15 hpx_15 bg_white rounded_40 left_min_26 top_0"></div>
                            <span>2 - 3 pm</span>
                        </h1>


                        <h1 class="mb_20 hpx_50 font_charm fspx_20 m_0 d_iflex ai_center">
                            <div class="pst_relative wpx_15 hpx_15 bg_white rounded_40 left_min_16 top_0"></div>
                            <span>comida</span><img src="plato.png" class="wpx_50 filter_invert">
                        </h1>

                        <h1 class="mb_20 hpx_50 font_charm fspx_20 m_0 d_iflex ai_center">
                            <div class="pst_relative wpx_15 hpx_15 bg_white rounded_40 left_min_26 top_0"></div>
                            <span>5:00pm</span>
                        </h1>

                        <h1 class="mb_20 hpx_50 font_charm fspx_20 m_0 d_iflex ai_center">
                            <div class="pst_relative wpx_15 hpx_15 bg_white rounded_40 left_min_19 top_0"></div>
                            <span>baile</span><img src="baile.png" class="wpx_50 filter_invert">
                        </h1>

                        <!--<h1 class="mb_20 hpx_50 font_charm fspx_20 m_0 d_iflex ai_center">
                            <div class="pst_relative wpx_15 hpx_15 bg_white rounded_40 left_min_26 top_0"></div>
                            <span>2:00pm</span>
                        </h1>-->



                        <div class="hpx_50">
                            <div class="pst_relative wpx_15 hpx_15 bg_white rounded_40 left_min_16 bottom_min_100"></div>
                        </div>

                    </div>
                </div>

            </div>

        </div>



    





        <div class="pst_relative zdex_10 mt_50 d_none" id="no_acces" onclick="ShowModal()">
            <div class="pst_relative bg_white py_50 px_20 text_center color_black">
               <h1 class="font_bold text_center fspx_20 m_0 color_red text_uppercase">La presente invitación<br> no garantiza acceso al evento.</h1>
            </div>
        </div>



        <div class="pst_relative zdex_10 mt_80" id="acces">
            <div class="pst_relative bg_white pt_70 px_20 text_center color_black">
                <img class="pst_absolute top_0 hpx_100 tra_x50 zdex_20 w_120" src="golden_raya.png">

                
                <h1 class="m_0 font_paris  fspx_50 line_height_40  color_red" id="txt_famlia">- - - - -</h1><br>
                <h1 class="font_charm text_center fspx_25 m_0 mb_10 color_black">Le invitamos cordialmente</h1>
                <h1 class="font_bold text_center fspx_20 m_0 mb_25 color_red text_uppercase">pase para <span id="txt_personas">- - - - -</span></h1>


                <h1 class="m_0 font_airthay fspx_70 line_height_40  color_black">¡Te esperamos!</h1><br>
                <h1 class="font_charm text_center fspx_20 m_0 mb_20 color_black text_uppercase">Por favor, confirma tu asistencia</h1>
                <a class="font_charm fspx_20 my_btn no_link color_black px_20 py_10 d_block 
                wpx_200 m0_a rounded_20 text_center font_bold" style="background-image: url('golden_btn.png');" href="https://wa.me/9511656986?text=Hola%2C%20confirmo%20mi%20asistencia%20a%20tu%20evento" >Confirmar</a>
               <br><br>
            </div>
        </div>







        <!-- Footer -->
        <footer class="bd-footer pb-4 mt_30">
            <div class="container-fluid pb-4">
                <div class="row align-items-center py-4 color_white">

                    <div class="col-12 text-center mb-3 mb-md-0">
                       <p class="font_chewy mb-0 fs-6">© 2025 Todos los derechos reservados</p>
                       <a href="https://invitadigitales.github.io/mx/" class="font_chewy mb-0 fs-6 no_link color_black">
                          <img src="net.svg" alt="Instagram" class="footer-icon">
                          <span class="color_white">invitadigitales.github.io/mx<span>
                        </a>
                    </div>

                    <div class="col-12">
                        <div class="d-flex justify-content-center gap-2">
                            <div class="footer-links font_chewy">
                                <a href="https://www.facebook.com/InvitaDigitales/" class="d-flex align-items-center justify-content-center fs-6 ">
                                    <img src="facebook.svg" alt="Facebook" class="footer-icon">
                                    <span class="color_white">InvitaDigitales</span>
                                </a>
                            </div>
                            <div class="footer-links font_chewy">
                                <a href="https://www.instagram.com/inbitadigitales/" class="d-flex align-items-center justify-content-center fs-6">
                                    <img src="instagram.svg" alt="Instagram" class="footer-icon">
                                    <span class="color_white">InbitaDigitales</span>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </footer>


        <div class="pst_fixed zdex_9999 p_30" id="controls">
            <ul class="m_0 p_0 liststyle_none">
                <li id="sound">
                    <img src="sound_mute.svg" class="wpx_35 cur_pointer">
                </li>

            </ul>
        </div>
    </div>






    <!-- MINIDASH -->
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <form class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="exampleModalLabel">Login</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label class="form-label">Ingresa key</label>
                        <input type="text" class="form-control" name="key" placeholder="##########">
                    </div>

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-primary" onclick="Login()">Ingresar</button>
                </div>
            </div>
        </form>
    </div>
    
    


<!-- Scripts -->
<script src="controller.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/flexslider@2.7.2/jquery.flexslider-min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/wow/1.1.2/wow.min.js"></script>
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/countdown/2.6.0/countdown.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js" integrity="sha384-k6d4wzSIapyDyv1kpU366/PK5hCdSbCRGRCMv+eplOQJWyd1fbcAu9OCUj5zNLiq" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/toastify-js/1.12.0/toastify.min.js"></script>



<script>


var audio = new Audio('audio2.mp3');
audio.loop = true;
audio.volume = 0.5;



var targetDate = new Date("Oct 18, 2025 08:00:00").getTime();
var countdownTimer = countdown(
    targetDate,
    function(ts) {
        var countdownText = `
            <div class="time-container">
                <span>${ts.days}</span>
                <p>Días</p>
            </div>
            <div class="time-container">
                <span>${ts.hours}</span>
                <p>Horas</p>
            </div>
            <div class="time-container">
                <span>${ts.minutes}</span>
                <p>Minutos</p>
            </div>
            <div class="time-container">
                <span>${ts.seconds}</span>
                <p>Segundos</p>
            </div>
        `;

        document.getElementById("countdown").innerHTML = countdownText;
    },
    countdown.DAYS | countdown.HOURS | countdown.MINUTES | countdown.SECONDS
);








let muted = false;
$('#sound,#play').click(() => {

    muted = !muted;
    if (muted) {
        audio.play();
    } else {
        audio.pause();
    }
    $('#sound').find('img').attr('src', muted ? 'sound.svg' : 'sound_mute.svg');

});



document.addEventListener('DOMContentLoaded', function() {

    floatingController.register('#controls', '.content', {
        width: 80,
        customPosition: (element, container, breakpoint) => {
            const rect = container.getBoundingClientRect();
            element.style.right = rect.left + 'px';
            element.style.bottom = '0px';
        }
    });

});






class UrlParams {  constructor() { this.params = new URLSearchParams(window.location.search); }  get(key) { return this.params.get(key); } }
const url = new UrlParams();
var invitado = url.get('invitado');

if(invitado!=null){

     


 

    var link = `http://invitadigital.mywebcommunity.org/show.php?cliente_id=1&familia=${invitado}&r=${Math.random()}`;
    function procesarRespuesta(data) {

        var data = JSON.parse(data);

        if (data.message == false) {
            window.location.href = "./";
        } else {

            $("#txt_famlia").html(toTitleCase(data.message.familia));

            var n  =data.message.num_invitados;
            var str = "";
            if(n>1){
                str = str +n+" personas";
            }else{
                str = str +n+" persona";
            }
            $("#txt_personas").html(str);

            console.log(data.message);
            //$("#exampleModal").html(data);
        }
    }
    fetch(url)
    .then(response => response.text())
    .then(data => procesarRespuesta(data))
    .catch(error => {
        const proxyUrl = `https://api.allorigins.win/raw?url=${encodeURIComponent(link)}`;
        return fetch(proxyUrl)
        .then(response => response.text())
        .then(data => procesarRespuesta(data));
    });
    





}else{
    $("*#acces").addClass("d_none");
    $("*#no_acces").removeClass("d_none");
}



function ShowModal(){
     $('#exampleModal').modal('show');
}


async function Login(){

    var formData = $('#exampleModal form');
    var serialize = formData.serialize();
    var dataObj = formData.serializeArray();

    //$('#exampleModal').modal('hide');


    var url = `http://invitadigital.mywebcommunity.org/login.php?cliente_id=1&clave=${dataObj[0].value}`;
    function procesarRespuesta(data) {
        if (data == 'error') {
    
            Toastify({
                text: "Error en la clave",
                duration: 1000,
                backgroundColor: "#F44336"
            }).showToast();
    
        }
        if (data == 'exito') {




            var all = `http://invitadigital.mywebcommunity.org/all.php?cliente_id=1&r=${Math.random()}`;
            function procesarRespuesta(data) {
                $("#exampleModal").html(data);
            }
            fetch(all)
            .then(response => response.text())
            .then(data => {
                procesarRespuesta(data);
                // Código adicional después de procesar la respuesta
                console.log('Respuesta procesada exitosamente');
            })
            .catch(error => {
                console.log('Error en fetch directo, intentando con proxy...');
                const proxyUrl = `https://api.allorigins.win/raw?url=${encodeURIComponent(all)}`;
                return fetch(proxyUrl)
                .then(response => response.text())
                .then(data => {
                    procesarRespuesta(data);
                });
            });



            /*var all = `http://invitadigital.mywebcommunity.org/all.php?cliente_id=1`;
            function procesarRespuesta(data) {

                $("#exampleModal").html(data);

            }
            fetch(all)
            .then(response => response.text())
            .then(data => procesarRespuesta(data))
            .catch(error => {
                const proxyUrl = `https://api.allorigins.win/raw?url=${encodeURIComponent(all)}`;
                return fetch(proxyUrl)
                .then(response => response.text())
                .then(data => procesarRespuesta(data));
            });*/


        }
    }
    fetch(url)
    .then(response => response.text())
    .then(data => procesarRespuesta(data))
    .catch(error => {
        const proxyUrl = `https://api.allorigins.win/raw?url=${encodeURIComponent(url)}`;
        return fetch(proxyUrl)
        .then(response => response.text())
        .then(data => procesarRespuesta(data));
    });
    

    /*Toastify({
        text: "Mensaje aquí",
        duration: 1000,
        backgroundColor: "#4CAF50"
    }).showToast();*/
    /*Toastify({
        text: "Error en la operación",
        duration: 1000,
        backgroundColor: "#F44336"
    }).showToast();*/


}



function addinvitado(){

    const familia = document.getElementById('familia').value.trim().toLowerCase();
    const personas = document.getElementById('personas').value.trim();
    
    // Validar familia (no vacío)
    if (familia === '') {
        Toastify({
            text: "La familia no puede ser vacio",
            duration: 1000,
            backgroundColor: "#F44336"
        }).showToast();
        return false;
    }
    if (personas === '') {
        Toastify({
            text: "El número de personas no puede ser vacio",
            duration: 1000,
            backgroundColor: "#F44336"
        }).showToast();
        return false;
    }
    
    if (isNaN(personas) || personas <= 0) {
        Toastify({
            text: "El número de personas debe ser un número válido mayor a 0",
            duration: 1000,
            backgroundColor: "#F44336"
        }).showToast();
        return false;
    }


    const tabla = document.querySelector('table');
    const tbody = tabla.querySelector('tbody');


    let textoEncontrado = false;
    if (tbody.textContent.includes('Agrega invitados en la parte de abajo')) {
        textoEncontrado = true;
    }
    if (textoEncontrado) {
        tbody.innerHTML = ''; // Limpiar
    }



    let FEncontrado = false;
    if (tbody.textContent.includes(familia)) {
        FEncontrado = true;
    }
    if (FEncontrado) {
        Toastify({
            text: "La familia ya esta agregada",
            duration: 1000,
            backgroundColor: "#F44336"
        }).showToast();
        return false;
    }

    tbody.innerHTML += `
        <tr data-familia="${familia}">
            <td>${familia}</td>
            <td>${personas}</td>
            <td class="text_center">
                <button type="button" class="btn btn-primary p_5" onclick="compartirWat('${familia}')"><span class="material-icons">reply</span></button>
                <button type="button" class="btn btn-danger p_5" onclick="deleteFam('${familia}')"><span class="material-icons">delete</span></button>
            </td>
        </tr>
    `;
        

    Toastify({
        text: "Agregando ",
        duration: 1000,
        backgroundColor: "#4CAF50"
    }).showToast();
    document.getElementById('familia').value = '';
    document.getElementById('personas').value = '';

    var url = `http://invitadigital.mywebcommunity.org/update.php?cliente_id=1&tipo=1&familia=${familia}&personas=${personas}&r=${Math.random()}`;
    function procesarRespuesta(data) {}
    fetch(url)
    .then(response => response.text())
    .then(data => procesarRespuesta(data))
    .catch(error => {
        const proxyUrl = `https://api.allorigins.win/raw?url=${encodeURIComponent(url)}`;
        return fetch(proxyUrl)
        .then(response => response.text())
        .then(data => procesarRespuesta(data));
    });




}


function deleteFam(familia){

    document.querySelector('[data-familia="'+familia+'"]').remove();
    const tabla = document.querySelector('table');
    const tbody = tabla.querySelector('tbody');
    const totalTr = tbody.querySelectorAll('tr').length

    if(totalTr<1){
        tbody.innerHTML += `
            <tr>
                <td class="text_center" colspan="3">Agrega invitados en la parte de abajo</td>
            </tr>
        `;
    }


    Toastify({
        text: "Borrado ",
        duration: 1000,
        backgroundColor: "#4CAF50"
    }).showToast();


    var url = `http://invitadigital.mywebcommunity.org/update.php?cliente_id=1&tipo=0&familia=${familia}&r=${Math.random()}`;
    function procesarRespuesta(data) {}
    fetch(url)
    .then(response => response.text())
    .then(data => procesarRespuesta(data))
    .catch(error => {
        const proxyUrl = `https://api.allorigins.win/raw?url=${encodeURIComponent(url)}`;
        return fetch(proxyUrl)
        .then(response => response.text())
        .then(data => procesarRespuesta(data));
    });



 
}


function compartirWat(familia){
    const boton = document.createElement('button');
    boton.id = 'miBoton';
    boton.className = 'd_none';
    boton.textContent = 'Compartir WhatsApp';
    document.body.appendChild(boton);
    
    // Codificar la familia para evitar problemas con espacios
    const familiaCodeada = encodeURIComponent(familia);
    const mensaje = "https://invitadigitales.github.io/Darani/?invitado=" + familiaCodeada;
    const whatsappUrl = `https://wa.me/?text=${encodeURIComponent(mensaje)}`;
    
    boton.addEventListener('click', function() {
        window.open(whatsappUrl, '_blank');
        boton.remove();
    });
    boton.click();
}


function toTitleCase(str) {
    return str
        .split(' ')
        .map(word => word.charAt(0).toUpperCase() + word.slice(1).toLowerCase())
        .join(' ');
}



//var decrypted = atob("Y2xhdmUxMjM=");
//console.log(decrypted);

</script>
</body>
</html>